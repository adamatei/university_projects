ï
hC:\Users\ADA\Documents\GitHub\ping-social-media\Backend\ProfileService\Consumers\RegistrationConsumer.cs
	namespace		 	
ProfileService		
 
.		 
	Consumers		 "
{

 
public 

class  
RegistrationConsumer %
:& '
	IConsumer( 1
<1 2
RegistrationUpdate2 D
>D E
{ 
private 
readonly 
IProfileManager (
profileManager) 7
;7 8
public  
RegistrationConsumer #
(# $
IProfileManager$ 3
profileManager4 B
)B C
{ 	
this 
. 
profileManager 
=  !
profileManager" 0
;0 1
} 	
public 
async 
Task 
Consume !
(! "
ConsumeContext" 0
<0 1
RegistrationUpdate1 C
>C D
contextE L
)L M
{ 	
var 
msg 
= 
context 
. 
Message %
;% &
try 
{ 
Profile 
profile 
=  !
new" %
Profile& -
{. /
Username0 8
=9 :
msg; >
.> ?
Username? G
,G H
	isBlockedI R
=S T
falseU Z
,Z [
isPublic\ d
=e f
trueg k
,k l
Rolem q
=r s
$strt z
}{ |
;| }
await 
profileManager $
.$ %
CreateProfile% 2
(2 3
profile3 :
): ;
;; <
await 
Console 
. 
Out !
.! "
WriteLineAsync" 0
(0 1
$str1 _
+` a
msgb e
.e f
Usernamef n
)n o
;o p
} 
catch 
( 
	Exception 
ex 
) 
{ 
await 
Console 
. 
Out !
.! "
WriteLineAsync" 0
(0 1
ex1 3
.3 4
Message4 ;
); <
;< =
}   
}!! 	
}"" 
}## °"
gC:\Users\ADA\Documents\GitHub\ping-social-media\Backend\ProfileService\Controllers\ProfileController.cs
	namespace 	
ProfileService
 
. 
Controllers $
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ProfileController "
:# $
ControllerBase% 3
{ 
private 
readonly 
IProfileManager (
service) 0
;0 1
IPublishEndpoint 
_publishEndpoint )
;) *
public 
ProfileController  
(  !
IPublishEndpoint! 1
publishEndpoint2 A
,A B
IProfileManagerC R
serviceS Z
)Z [
{ 	
this 
. 
service 
= 
service "
;" #
_publishEndpoint 
= 
publishEndpoint .
;. /
} 	
[ 	
HttpGet	 
] 
public 
List 
< 
Profile 
> 
Get  
(  !
)! "
{ 	
return 
service 
. 
GetProfiles &
(& '
)' (
;( )
}   	
[## 	
HttpGet##	 
(## 
$str## 
)## 
]## 
public$$ 
async$$ 
Task$$ 
<$$ 
Profile$$ !
>$$! "
Get$$# &
($$& '
int$$' *
id$$+ -
)$$- .
{%% 	
return&& 
await&& 
service&&  
.&&  !
GetProfileById&&! /
(&&/ 0
id&&0 2
)&&2 3
;&&3 4
}'' 	
[** 	
HttpGet**	 
(** 
$str** 
)** 
]** 
public++ 
Profile++ 
Get++ 
(++ 
string++ !
username++" *
)++* +
{,, 	
return-- 
service-- 
.--  
GetProfileByUsername-- /
(--/ 0
username--0 8
)--8 9
;--9 :
}.. 	
[11 	
HttpPost11	 
]11 
public22 
async22 
Task22 
<22 
Profile22 !
>22! "
Post22# '
(22' (
[22( )
FromBody22) 1
]221 2
Profile223 :
profile22; B
)22B C
{33 	
return44 
await44 
service44  
.44  !
CreateProfile44! .
(44. /
profile44/ 6
)446 7
;447 8
}55 	
[88 	
HttpPut88	 
]88 
public99 
async99 
Task99 
<99 
bool99 
>99 
Put99  #
(99# $
[99$ %
FromBody99% -
]99- .
Profile99/ 6
profile997 >
)99> ?
{:: 	
BlockUpdate;; 
blk;; 
=;; 
new;; !
BlockUpdate;;" -
{;;. /
Username;;0 8
=;;9 :
profile;;; B
.;;B C
Username;;C K
,;;K L
	isBlocked;;M V
=;;W X
profile;;Y `
.;;` a
	isBlocked;;a j
};;j k
;;;k l
await<< 
_publishEndpoint<< "
.<<" #
Publish<<# *
<<<* +
BlockUpdate<<+ 6
><<6 7
(<<7 8
blk<<8 ;
)<<; <
;<<< =
return== 
await== 
service==  
.==  !
UpdateProfile==! .
(==. /
profile==/ 6
)==6 7
;==7 8
}>> 	
[AA 	

HttpDeleteAA	 
(AA 
$strAA 
)AA 
]AA 
publicBB 
asyncBB 
TaskBB 
<BB 
boolBB 
>BB 
DeleteBB  &
(BB& '
intBB' *
idBB+ -
)BB- .
{CC 	
returnDD 
awaitDD 
serviceDD  
.DD  !
DeleteProfileDD! .
(DD. /
idDD/ 1
)DD1 2
;DD2 3
}EE 	
}FF 
}GG Ý
dC:\Users\ADA\Documents\GitHub\ping-social-media\Backend\ProfileService\DataAccess\DatabaseContext.cs
	namespace 	
ProfileService
 
. 

DataAccess #
{ 
public 

class 
DatabaseContext  
:  !
	DbContext! *
{ 
public 
virtual 
DbSet 
< 
Profile $
>$ %
Profiles& .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
	protected

 
override

 
void

 
OnConfiguring

  -
(

- .#
DbContextOptionsBuilder

. E
optionsBuilder

F T
)

T U
{ 	
optionsBuilder 
. 
UseSqlServer '
(' (
$str -
+. /
$str 3
+4 5
$str 
+  !
$str 0
)0 1
;1 2
} 	
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
Profile  '
>' (
(( )
entity) /
=>0 2
{ 
entity 
. 
HasKey 
( 
e 
=>  "
e# $
.$ %
Id% '
)' (
;( )
} 
) 
; 
} 	
} 
} Ý
cC:\Users\ADA\Documents\GitHub\ping-social-media\Backend\ProfileService\DataAccess\FakeRepository.cs
	namespace 	
ProfileService
 
. 

DataAccess #
{ 
public 

class 
FakeRepository 
{ 
public 
FakeRepository 
( 
) 
{		 	
Profiles

 
=

 
new

 
List

 
<

  
Profile

  '
>

' (
(

( )
)

) *
;

* +
Profiles 
. 
Add 
( 
new 
Profile %
{& '
Id( *
=+ ,
$num- .
,. /
Username0 8
=9 :
$str; @
,@ A
isPublicB J
=J K
trueL P
}P Q
)Q R
;R S
} 	
public 
List 
< 
Profile 
> 
Profiles %
{& '
get( +
;+ ,
}- .
} 
}  

dC:\Users\ADA\Documents\GitHub\ping-social-media\Backend\ProfileService\Interfaces\IProfileManager.cs
	namespace 	
ProfileService
 
. 

Interfaces #
{ 
public 

	interface 
IProfileManager $
{ 
List		 
<		 
Profile		 
>		 
GetProfiles		 !
(		! "
)		" #
;		# $
Task

 
<

 
Profile

 
>

 
GetProfileById

 $
(

$ %
int

% (
id

) +
)

+ ,
;

, -
Profile  
GetProfileByUsername $
($ %
string% +
username, 4
)4 5
;5 6
Task 
< 
bool 
> 
UpdateProfile  
(  !
Profile! (
new_profile) 4
)4 5
;5 6
Task 
< 
bool 
> 
DeleteProfile  
(  !
int! $
id% '
)' (
;( )
Task 
< 
Profile 
> 
CreateProfile #
(# $
Profile$ +
profile, 3
)3 4
;4 5
} 
} ¸3
kC:\Users\ADA\Documents\GitHub\ping-social-media\Backend\ProfileService\Migrations\20220304123531_initial.cs
	namespace 	
ProfileService
 
. 

Migrations #
{ 
public 

partial 
class 
initial  
:! "
	Migration# ,
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{		 	
migrationBuilder

 
.

 
CreateTable

 (
(

( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Role 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
trueQ U
)U V
,V W
Username 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
trueU Y
)Y Z
,Z [
isPublic 
= 
table $
.$ %
Column% +
<+ ,
bool, 0
>0 1
(1 2
type2 6
:6 7
$str8 =
,= >
nullable? G
:G H
falseI N
)N O
,O P
	isBlocked 
= 
table  %
.% &
Column& ,
<, -
bool- 1
>1 2
(2 3
type3 7
:7 8
$str9 >
,> ?
nullable@ H
:H I
falseJ O
)O P
,P Q
	FirstName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; J
,J K
nullableL T
:T U
trueV Z
)Z [
,[ \
LastName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
trueU Y
)Y Z
,Z [
Intro 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 F
,F G
nullableH P
:P Q
trueR V
)V W
,W X
ImageUrl 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: I
,I J
nullableK S
:S T
trueU Y
)Y Z
,Z [
Birthday 
= 
table $
.$ %
Column% +
<+ ,
DateTime, 4
>4 5
(5 6
type6 :
:: ;
$str< G
,G H
nullableI Q
:Q R
falseS X
)X Y
,Y Z
Job 
= 
table 
.  
Column  &
<& '
string' -
>- .
(. /
type/ 3
:3 4
$str5 D
,D E
nullableF N
:N O
trueP T
)T U
,U V
	Education 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; J
,J K
nullableL T
:T U
trueV Z
)Z [
,[ \
OriginCountry !
=" #
table$ )
.) *
Column* 0
<0 1
string1 7
>7 8
(8 9
type9 =
:= >
$str? N
,N O
nullableP X
:X Y
trueZ ^
)^ _
,_ `
OriginCityy 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= L
,L M
nullableN V
:V W
trueX \
)\ ]
,] ^
LivingCountry !
=" #
table$ )
.) *
Column* 0
<0 1
string1 7
>7 8
(8 9
type9 =
:= >
$str? N
,N O
nullableP X
:X Y
trueZ ^
)^ _
,_ `

LivingCity 
=  
table! &
.& '
Column' -
<- .
string. 4
>4 5
(5 6
type6 :
:: ;
$str< K
,K L
nullableM U
:U V
trueW [
)[ \
} 
, 
constraints   
:   
table   "
=>  # %
{!! 
table"" 
."" 

PrimaryKey"" $
(""$ %
$str""% 2
,""2 3
x""4 5
=>""6 8
x""9 :
."": ;
Id""; =
)""= >
;""> ?
}## 
)## 
;## 
}$$ 	
	protected&& 
override&& 
void&& 
Down&&  $
(&&$ %
MigrationBuilder&&% 5
migrationBuilder&&6 F
)&&F G
{'' 	
migrationBuilder(( 
.(( 
	DropTable(( &
(((& '
name)) 
:)) 
$str))  
)))  !
;))! "
}** 	
}++ 
},, Ñ
XC:\Users\ADA\Documents\GitHub\ping-social-media\Backend\ProfileService\Models\Profile.cs
	namespace 	
ProfileService
 
. 
Models 
{ 
public 

class 
Profile 
{ 
public 
virtual 
int 
Id 
{ 
get  #
;# $
set% (
;( )
}* +
public 
virtual 
string 
Role "
{# $
get% (
;( )
set* -
;- .
}/ 0
public		 
virtual		 
string		 
Username		 &
{		' (
get		) ,
;		, -
set		. 1
;		1 2
}		3 4
public

 
virtual

 
bool

 
isPublic

 $
{

% &
get

' *
;

* +
set

, /
;

/ 0
}

1 2
=

3 4
true

5 9
;

9 :
public 
virtual 
bool 
	isBlocked %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
=4 5
false6 ;
;; <
public 
virtual 
string 
	FirstName '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
=6 7
$str8 :
;: ;
public 
virtual 
string 
LastName &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
=5 6
$str7 9
;9 :
public 
virtual 
string 
Intro #
{$ %
get& )
;) *
set+ .
;. /
}0 1
=2 3
$str4 6
;6 7
public 
virtual 
string 
ImageUrl &
{' (
get( +
;+ ,
set- 0
;0 1
}1 2
=3 4
$str5 7
;7 8
public 
virtual 
DateTime 
Birthday  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
=7 8
new9 <
DateTime= E
(E F
)F G
;G H
public 
virtual 
string 
Job !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
$str2 4
;4 5
public 
virtual 
string 
	Education '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
=6 7
$str8 :
;: ;
public 
virtual 
string 
OriginCountry +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
=: ;
$str< >
;> ?
public 
virtual 
string 
OriginCityy )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
=8 9
$str: <
;< =
public 
virtual 
string 
LivingCountry +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
=: ;
$str< >
;> ?
public 
virtual 
string 

LivingCity (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
=7 8
$str9 ;
;; <
} 
} ­

QC:\Users\ADA\Documents\GitHub\ping-social-media\Backend\ProfileService\Program.cs
	namespace

 	
ProfileService


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} Õ>
aC:\Users\ADA\Documents\GitHub\ping-social-media\Backend\ProfileService\Services\ProfileManager.cs
	namespace 	
ProfileService
 
. 
Services !
{		 
public

 

class

 
ProfileManager

 
:

  !
IProfileManager

" 1
{ 
private 
readonly 
DatabaseContext (
db) +
;+ ,
public 
ProfileManager 
( 
DatabaseContext -
db. 0
)0 1
{ 	
this 
. 
db 
= 
db 
; 
} 	
public 
async 
Task 
< 
Profile !
>! "
CreateProfile# 0
(0 1
Profile1 8
profile9 @
)@ A
{ 	
if 
( 
! 
db 
. 
Profiles 
. 
Any 
( 
p  
=>! #
p$ %
.% &
Username& .
==/ 1
profile2 9
.9 :
Username: B
)B C
)C D
{ 
await 
db 
. 
Profiles !
.! "
AddAsync" *
(* +
profile+ 2
)2 3
;3 4
await 
db 
. 
SaveChangesAsync )
() *
)* +
;+ ,
return 
profile 
; 
} 
return 
null 
; 
} 	
public!! 
async!! 
Task!! 
<!! 
bool!! 
>!! 
DeleteProfile!!  -
(!!- .
int!!. 1
id!!2 4
)!!4 5
{"" 	
foreach## 
(## 
var## 
profile##  
in##! #
db##$ &
.##& '
Profiles##' /
.##/ 0
ToList##0 6
(##6 7
)##7 8
)##8 9
{$$ 
if%% 
(%% 
profile%% 
.%% 
Id%% 
==%%  
id%%! #
)%%# $
{&& 
db'' 
.'' 
Profiles'' 
.''  
Remove''  &
(''& '
profile''' .
)''. /
;''/ 0
await(( 
db(( 
.(( 
SaveChangesAsync(( -
(((- .
)((. /
;((/ 0
return)) 
true)) 
;))  
}** 
}++ 
return,, 
false,, 
;,, 
}-- 	
public00 
async00 
Task00 
<00 
Profile00 !
>00! "
GetProfileById00# 1
(001 2
int002 5
id006 8
)008 9
{11 	
return22 
await22 
db22 
.22 
Profiles22 $
.22$ %
	FindAsync22% .
(22. /
id22/ 1
)221 2
;222 3
}33 	
public66 
Profile66  
GetProfileByUsername66 +
(66+ ,
string66, 2
username663 ;
)66; <
{77 	
foreach88 
(88 
var88 
profile88  
in88! #
db88$ &
.88& '
Profiles88' /
.88/ 0
ToList880 6
(886 7
)887 8
)888 9
{99 
if:: 
(:: 
profile:: 
.:: 
Username:: %
==::& (
username::) 1
)::1 2
{;; 
return<< 
profile<< #
;<<# $
}== 
}>> 
return?? 
null?? 
;?? 
}@@ 	
publicCC 
ListCC 
<CC 
ProfileCC 
>CC 
GetProfilesCC (
(CC( )
)CC) *
{DD 	
returnEE 
dbEE 
.EE 
ProfilesEE 
.EE 
ToListEE %
(EE% &
)EE& '
;EE' (
}FF 	
publicII 
asyncII 
TaskII 
<II 
boolII 
>II 
UpdateProfileII  -
(II- .
ProfileII. 5
new_profileII6 A
)IIA B
{JJ 	
foreachKK 
(KK 
varKK 
profileKK  
inKK! #
dbKK$ &
.KK& '
ProfilesKK' /
.KK/ 0
ToListKK0 6
(KK6 7
)KK7 8
)KK8 9
{LL 
ifMM 
(MM 
profileMM 
.MM 
IdMM 
==MM 
new_profileMM )
.MM) *
IdMM* ,
)MM, -
{NN 
{QQ 
profileRR 
.RR 
JobRR 
=RR 
new_profileRR )
.RR) *
JobRR* -
;RR- .
profileSS 
.SS 
RoleSS 
=SS 
new_profileSS *
.SS* +
RoleSS+ /
;SS/ 0
profileTT 
.TT 
	EducationTT !
=TT" #
new_profileTT$ /
.TT/ 0
	EducationTT0 9
;TT9 :
profileUU 
.UU 
BirthdayUU  
=UU! "
new_profileUU# .
.UU. /
BirthdayUU/ 7
;UU7 8
profileVV 
.VV 

LivingCityVV "
=VV# $
new_profileVV% 0
.VV0 1

LivingCityVV1 ;
;VV; <
profileWW 
.WW 
LivingCountryWW %
=WW& '
new_profileWW( 3
.WW3 4
LivingCountryWW4 A
;WWA B
profileXX 
.XX 
OriginCityyXX #
=XX$ %
new_profileXX& 1
.XX1 2
OriginCityyXX2 =
;XX= >
profileYY 
.YY 
OriginCountryYY %
=YY& '
new_profileYY( 3
.YY3 4
OriginCountryYY4 A
;YYA B
profileZZ 
.ZZ 
	FirstNameZZ !
=ZZ" #
new_profileZZ$ /
.ZZ/ 0
	FirstNameZZ0 9
;ZZ9 :
profile[[ 
.[[ 
LastName[[  
=[[! "
new_profile[[# .
.[[. /
LastName[[/ 7
;[[7 8
profile\\ 
.\\ 
Intro\\ 
=\\ 
new_profile\\  +
.\\+ ,
Intro\\, 1
;\\1 2
profile]] 
.]] 
isPublic]]  
=]]! "
new_profile]]# .
.]]. /
isPublic]]/ 7
;]]7 8
profile^^ 
.^^ 
	isBlocked^^ !
=^^" #
new_profile^^$ /
.^^/ 0
	isBlocked^^0 9
;^^9 :
System__ 
.__ 
Console__ 
.__ 
	WriteLine__ (
(__( )
$str__) =
+__> ?
new_profile__@ K
.__K L
isPublic__L T
)__T U
;__U V
System`` 
.`` 
Console`` 
.`` 
	WriteLine`` (
(``( )
$str``) <
+``= >
profile``? F
.``F G
isPublic``G O
)``O P
;``P Q
dbaa 
.aa 
Updateaa 
(aa 
profileaa !
)aa! "
;aa" #
awaitbb 
dbbb 
.bb 
SaveChangesAsyncbb )
(bb) *
)bb* +
;bb+ ,
Systemcc 
.cc 
Consolecc 
.cc 
	WriteLinecc (
(cc( )
$strcc) :
+cc; < 
GetProfileByUsernamecc= Q
(ccQ R
profileccR Y
.ccY Z
UsernameccZ b
)ccb c
.ccc d
isPublicccd l
)ccl m
;ccm n
returndd 
truedd 
;dd 
}ee 
}ff 
}gg 
returnhh 
falsehh 
;hh 
}ii 	
}jj 
}kk ó%
QC:\Users\ADA\Documents\GitHub\ping-social-media\Backend\ProfileService\Startup.cs
	namespace 	
ProfileService
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{   	
services!! 
.!! 
AddCors!! 
(!! 
)!! 
;!! 
services"" 
."" 
AddMassTransit"" #
(""# $
x""$ %
=>""& (
{## 
x$$ 
.$$ 
AddConsumer$$ 
<$$  
RegistrationConsumer$$ 2
>$$2 3
($$3 4
)$$4 5
;$$5 6
x&& 
.&& 
UsingRabbitMq&& 
(&&  
(&&  !
ctx&&! $
,&&$ %
cfg&&& )
)&&) *
=>&&+ -
{'' 
cfg(( 
.(( 
Host(( 
((( 
$str(( @
)((@ A
;((A B
cfg++ 
.++ 
ReceiveEndpoint++ '
(++' (
$str++( 8
,++8 9
c++: ;
=>++< >
{,, 
c-- 
.-- 
ConfigureConsumer-- +
<--+ , 
RegistrationConsumer--, @
>--@ A
(--A B
ctx--B E
)--E F
;--F G
}.. 
).. 
;.. 
}// 
)// 
;// 
}00 
)00 
;00 
services11 
.11 
AddDbContext11 !
<11! "
DatabaseContext11" 1
>111 2
(112 3
)113 4
;114 5
services22 
.22 
AddTransient22 !
<22! "
IProfileManager22" 1
,221 2
ProfileManager223 A
>22A B
(22B C
)22C D
;22D E
services33 
.33 '
AddMassTransitHostedService33 0
(330 1
)331 2
;332 3
services44 
.44 
AddControllers44 #
(44# $
)44$ %
;44% &
services55 
.55 
AddSwaggerGen55 "
(55" #
c55# $
=>55% '
{66 
c77 
.77 

SwaggerDoc77 
(77 
$str77 !
,77! "
new77# &
OpenApiInfo77' 2
{773 4
Title775 :
=77; <
$str77= M
,77M N
Version77O V
=77W X
$str77Y ]
}77^ _
)77_ `
;77` a
}88 
)88 
;88 
}99 	
public<< 
void<< 
	Configure<< 
(<< 
IApplicationBuilder<< 1
app<<2 5
,<<5 6
IWebHostEnvironment<<7 J
env<<K N
)<<N O
{== 	
if>> 
(>> 
env>> 
.>> 
IsDevelopment>> !
(>>! "
)>>" #
)>># $
{?? 
app@@ 
.@@ %
UseDeveloperExceptionPage@@ -
(@@- .
)@@. /
;@@/ 0
appAA 
.AA 

UseSwaggerAA 
(AA 
)AA  
;AA  !
appBB 
.BB 
UseSwaggerUIBB  
(BB  !
cBB! "
=>BB# %
cBB& '
.BB' (
SwaggerEndpointBB( 7
(BB7 8
$strBB8 R
,BBR S
$strBBT g
)BBg h
)BBh i
;BBi j
}CC 
appEE 
.EE 

UseRoutingEE 
(EE 
)EE 
;EE 
appGG 
.GG 
UseAuthorizationGG  
(GG  !
)GG! "
;GG" #
appHH 
.HH 
UseCorsHH 
(HH 
optionsII 
=>II 
optionsII "
.II" #
WithOriginsII# .
(II. /
$strII/ F
)IIF G
.IIG H
AllowAnyMethodIIH V
(IIV W
)IIW X
.IIX Y
AllowAnyHeaderIIY g
(IIg h
)IIh i
)JJ 
;JJ 
appKK 
.KK 
UseEndpointsKK 
(KK 
	endpointsKK &
=>KK' )
{LL 
	endpointsMM 
.MM 
MapControllersMM (
(MM( )
)MM) *
;MM* +
}NN 
)NN 
;NN 
}OO 	
}PP 
}QQ 